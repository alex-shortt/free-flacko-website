var shop={1:{name:"10 Days for Shipping<br/>Portion of Proceeds go to ALCU<br/>ALL Sales Final",filename:"free-rocky",price:"50",baseSKU:"IGEN-SS-BLK",sizes:["SM","MD","LG","XL"]}};var noise;var smartphones="screen and (max-width: 480px) and (orientation: portrait), screen and (max-height: 480px) and (orientation: landscape)";function initImageGlitch(){jQuery.fn.noisy=function(a){a=jQuery.extend({},jQuery.fn.noisy.defs,a);var p=this;var n=[{x:0,y:0},{x:0,y:0},{x:0,y:0}];var j=jQuery(this);var e=[Math.random()+1,Math.random()+1,Math.random()+1];var c=[0,0,0];var d=0;var l=[];var k=null;var q=null;var r=a.rows;var m=a.ratio;var h=a.img;var f=false;var b=a.id;this.run=function(){var t;for(t=0;t<3;t++){if(e[t]>=1){--e[t];c[t]=Math.random()/4+0.03}e[t]+=c[t];d+=(38-d)*0.25;n[t].x=Math.ceil(Math.sin(e[t]*Math.PI*2)*c[t]*d*2);n[t].y=0}var s=(Math.abs(n[0].x)+Math.abs(n[1].x)+Math.abs(n[2].x)+8)/4;t=r;while((t-=1)){var u=Math.sin((t/r)*Math.PI*(Math.random()/8+1))*0.8*s*s;l[t].css({transform:"translateZ(0) translate3d(0, 0, 0) translateX("+u+"px)",webkitTransform:"translateZ(0) translate3d(0, 0, 0) translateX("+u+"px)"})}};this.go=function(){f=true;clearInterval(k);k=setInterval(this.run,30)};this.pause=function(){f=false;clearInterval(k);k=null;for(var s=0;s<r;s++){l[s].css({transform:"translateZ(0) translate3d(0, 0, 0)",webkitTransform:"translateZ(0) translate3d(0, 0, 0)"})}};this.updateContainerBounds=function(){var u=$(b).outerWidth();var t=$(b).outerHeight();if(m<t/u){var i=u*m;j.css({height:i+"px",padding:(t-i)/2+"px 0px"})}else{var s=t/m;j.css({height:t+"px",padding:"0px "+(u-s)/2+"px"})}};this.changeImage=function(u){var t=$(b).outerWidth();var s=$(b).outerHeight();var i=new Image();i.onload=function(){m=this.height/this.width;for(var w=0;w<r;w++){j.find("div").eq(w).css({backgroundImage:"url("+u+")"})}if(m<s/t){var v=t*m;j.css({height:v+"px",padding:(s-v)/2+"px 0px"})}else{var x=s/m;j.css({height:s+"px",padding:"0px "+(t-x)/2+"px"})}};i.src=u};j.css({position:"relative",padding:"0px calc((430px - "+430*m+"px) / 2)"});for(var g=0;g<r;g++){var o=(g*100)/r+"%";j.append("<div></div>");j.find("div").eq(g).css({backgroundImage:"url("+h+")",backgroundPosition:"0px "+(o=="0%"?"0.2%":o),backgroundSize:"cover",width:"100%",flex:"1",cursor:"pointer",transform:"translateZ(0) translate3d(0, 0, 0)",webkitTransform:"translateZ(0) translate3d(0, 0, 0)"});l.push(j.find("div").eq(g))}if(a.auto){q=setInterval(function(){if(f){return}p.go();setTimeout(p.pause(),(a.delay/2)*Math.random())},a.delay)}this.initialize=function(){return this};return this.initialize()};jQuery.fn.noisy.defs={rows:0,ratio:1,img:"",auto:false,delay:7000};printCredits()}function initModal(){$(".modal-open").on("click",function(c){var b=$(this),a=$(b).data("modal");$(a).parents(".modal-overlay").addClass("modal-opened");setTimeout(function(){$(a).addClass("modal-opened")},350);$(document).on("click",function(f){var d=$(f.target);if($(d).hasClass("modal-overlay")){$(d).find(".modal-modal").each(function(){$(this).removeClass("modal-opened")});setTimeout(function(){$(d).removeClass("modal-opened")},350)}})});$(".modal-close").on("click",function(c){c.preventDefault();c.stopImmediatePropagation;var b=$(this),a=$(b).data("modal");$(a).removeClass("modal-opened");setTimeout(function(){$(a).parents(".modal-overlay").removeClass("modal-opened")},350)})}function openModal(a){if(a.indexOf("#")==-1){a="#"+a}$(a).parents(".modal-overlay").addClass("modal-opened");setTimeout(function(){$(a).addClass("modal-opened")},350);$(document).on("click",function(c){var b=$(c.target);if($(b).hasClass("modal-overlay")){$(b).find(".modal-modal").each(function(){$(this).removeClass("modal-opened")});setTimeout(function(){$(b).removeClass("modal-opened")},350)}})}function closeModal(a){if(a.indexOf("#")==-1){a="#"+a}$(a).removeClass("modal-opened");setTimeout(function(){$(a).parents(".modal-overlay").removeClass("modal-opened")},350)}function isSafari(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("safari")!=-1){if(a.indexOf("chrome")>-1){return false}else{return true}}}function turnScreenOn(a){if(isSafari()){$(".awge-content").css("-webkit-animation","turn-on-safari "+a+"s linear")}else{$(".awge-content").css("animation","turn-on "+a+"s linear")}}function turnScreenOff(a){if(isSafari()){$(".awge-content").css("-webkit-animation","turn-off-safari "+a+"s linear forwards")}else{$(".awge-content").css("animation","turn-off "+a+"s linear forwards")}}function notify(a){$("#notify-message").text(a.toUpperCase());openModal("notify-modal")}function startTextGlitch(){$(".shop-glitch-placeholder").addClass("shop-glitch")}function stopTextGlitch(){$(".shop-glitch-placeholder").removeClass("shop-glitch")}function initTerms(){$(".awge-terms").on("click",function(){window.location.hash="terms"});$(".awge-privacy").on("click",function(){window.location.hash="privacy"})}function printCredits(){console.log("                                                                  \n      _  ____      ____   ______  ________                           \n     / \\|_  _|    |_  _|.' ___  ||_   __  |                         \n    / _ \\ \\ \\  /\\  / / / .'   \\_|  | |_ \\_|                    \n   / ___ \\ \\ \\/  \\/ /  | |   ____  |  _| _                       \n _/ /   \\ \\_\\  /\\  /   \\ `.___]  |_| |__/ |                     \n|____| |____|\\/  \\/     `._____.'|________|                        \n____________________________________________                         \n____________________________________________                         \n                                                                     \nCreated by Ilya Zaidze, Alex Shortt, Peter Campanelli                \nAlex Shortt :: Developer                                             \n  >Twitter: @_alexshortt                                             \n  >Instagram: @alexander.shortt                                      \nPeter Campanelli :: Developer                                        \n  >Twitter: @petercampanlli                                          \n  >Instagram: @petercampanelli                                       \nIlya Zaidze :: Creative + Design                                     \n  >Twitter: @ilya2x                                                  \n  >Instagram: @ilya2x                                                ")}function isMobileView(){var a=window.matchMedia(smartphones);return a.matches}function getParameterByName(b,a){if(!a){a=window.location.href}b=b.replace(/[\[\]]/g,"\\$&");var d=new RegExp("[?&]"+b+"(=([^&#]*)|&|#|$)"),c=d.exec(a);if(!c){return null}if(!c[2]){return""}return decodeURIComponent(c[2].replace(/\+/g," "))}function autoGlitch(){if(noise){noise.go()}setTimeout(function(){if(noise){noise.pause()}},Math.random()*300+400);setTimeout(autoGlitch,Math.random()*3000+4000)}function shopLoad(){$("#shop-option-awge").click(function(){});$("#shop-option-tstng").click(function(){window.open("https://tstng.co/store.html")});$("#shop-item-decrease").click(function(){changeShopPage(-1)});$("#shop-item-increase").click(function(){changeShopPage(1)});$("#shop-buy-button").click(function(){if(!isOutOfStock(shop[currentItem.index].baseSKU+"-"+currentItem.size)){addToCart()}});$("#cart-checkout").click(function(){cleanCart();if(Object.keys(getCart()).length==0){return}closeModal("cart-modal");openCheckoutLink()});$(".shop-items-item").click(function(){if(noise){noise.go()}setTimeout(function(){if(noise){noise.pause()}},750)});setTimeout(autoGlitch,2000);var a=new Image();a.onload=function(){$("#shop-item").html("");noise=$("#shop-item").noisy({rows:30,img:resolveImgURL(shop[1].filename),ratio:this.height/this.width,id:"#shop-item"});window.addEventListener("resize",function(){noise.updateContainerBounds()});$("#shop-item-mobile").css("background-image","url("+resolveImgURL(shop[1].filename));setShopProduct(1)};a.src=resolveImgURL(shop[1].filename);refreshCart()}function resolveImgURL(a){return"https://dwvo2npct47gg.cloudfront.net/gifs/free-rocky.gif"}var currentItem={};function setShopProduct(c){if(shop[c]==null){c=1}var f=$("#shop-item-price");var b=$("#shop-item-name");var a=$("#shop-item-progress");var g=$("#shop-item-image");var e=$("#shop-items-message");var d=Object.keys(shop).length;noise.go();startTextGlitch();$("#shop-item-mobile").css("background-image","url("+resolveImgURL(shop[c].filename)+")");setTimeout(function(){noise.changeImage(resolveImgURL(shop[c].filename));$(a).html(""+c+"/"+d).attr("data-text",""+c+"/"+d);var h=shop[c].price=="Sold Out"?"Sold Out":"$"+shop[c].price;$(f).html(h).attr("data-text",h).data(h);$(e).html(shop[c].message);$(g).prop("src",resolveImgURL(shop[c].filename));$(b).html(shop[c].name).attr("data-text",shop[c].name).data(shop[c].name);currentItem.index=c;resetSizes();setTimeout(function(){noise.pause();stopTextGlitch()},400)},400)}function changeShopPage(c){var b=Object.keys(shop).length;var a=parseInt(currentItem.index)+c;if(a>b){a=1}else{if(a<1){a=b}}setShopProduct(a)}function closeSizes(b){var c=$(".shop-size-wrapper");var a=$(".shop-items-options-middle");$(c).html("");if(b==null){$(c).append('<h1 onclick="openSizes()" class="shop-item-option shop-size-button">SIZE</h1>');currentItem.size=null}else{$(c).append('<h1 onclick="openSizes()" id="shop-size-final" class="shop-item-option shop-size-button">'+b+"</h1>");currentItem.size=b}updateBuyButton();$(a).css("width","auto");$(a).removeClass("shop-items-options-middle-open")}function openSizes(){var g=$(".shop-size-wrapper");var a=$(".shop-items-options-middle");var c=currentItem.index;var f=Object.keys(shop[c].sizes).length;$(g).html("");for(var e=0;e<f;e++){var d=shop[c].sizes[e];var b=shop[c].baseSKU;if(isOutOfStock(b+"-"+d)){$(g).append('<h1 class="shop-item-option shop-size-option shop-size-option-disabled">'+d+"</h1>")}else{$(g).append("<h1 onclick=\"closeSizes('"+d+'\')" class="shop-item-option shop-size-option">'+d+"</h1>")}}$(a).css("width",$(a).width());$(a).animate({width:"100%"},250);$(a).addClass("shop-items-options-middle-open")}function resetSizes(){closeSizes();var b=$(".shop-size-wrapper");var a=$(".shop-items-options-middle");$(b).html("");$(a).removeClass("shop-items-options-middle-open");if(shop[currentItem.index].sizes==null){$(b).css("display","none");currentItem.size="OS";updateBuyButton()}else{$(b).css("display","flex");$(b).append('<h1 onclick="openSizes()" class="shop-item-option shop-size-button">SIZE</h1>');currentItem.size=null}}$(document).on("click",function(c){var b=$(c.target);var a=$(".shop-items-options-middle");if($(a).hasClass("shop-items-options-middle-open")){if(!$(b).hasClass("shop-items-options-middle")&&!$(b).hasClass("shop-size-wrapper")&&!$(b).hasClass("shop-item-option")){closeSizes(currentItem.size)}}});function getCart(){try{return localStorage.cart==null?{}:JSON.parse(localStorage.cart)}catch(a){console.log("Error Getting Cart - Emptying...  :: "+a);localStorage.cart="{}";return JSON.parse(localStorage.cart)}}function cleanCart(){var e=getCart();if(Object.keys(e).length==0){return}for(var c=Object.keys(e).length-1;c>=0;c--){var f=Object.keys(e)[c];var b=f.substring(0,f.lastIndexOf("-"));var d=false;for(var a=1;a<=Object.keys(shop).length;a++){if(shop[a].baseSKU==b){d=true;break}}if(!d){delete e[f]}}localStorage.cart=JSON.stringify(e)}function refreshCart(){cleanCart();var a=$("#cart-container");$(a).html("");var d=getCart();for(var c=0;c<Object.keys(d).length;c++){var b=Object.keys(d)[c];var f=b.substring(0,b.lastIndexOf("-"));var e=-1;if(d[b]==0){continue}for(var g=1;g<=Object.keys(shop).length;g++){if(shop[g].baseSKU==f){e=g;break}}var h=shop[e];var j=b.split("-")[b.split("-").length-1];$(a).append("<div id="+b+' class="cart-item">                         <div class="cart-item-delete-wrapper">                            <h1 class="cart-item-delete" onclick="removeFromCart(\''+b+'\')">X</h1>                        </div>                        <div class="cart-item-image" style="background-image: url(\''+resolveImgURL(h.filename)+'\')"></div>                        <div class="cart-item-name-wrapper">                            <h1 class="cart-item-name">'+h.name+(j=="OS"?"":" - SZ "+j)+'</h1>                        </div>                        <div class="cart-item-quantity-wrapper">                            <h1 class="cart-item-quantity">'+d[b]+'</h1>                        </div>                        <div class="cart-item-price-wrapper">                            <h1 class="cart-item-price">$'+parseFloat(h.price)*parseFloat(d[b])+"</h1>                        </div>                    </div>")}if($(a).html()==""){$(a).append('<div class="cart-items-text">YOUR CART IS EMPTY...</div>')}localStorage.cart=JSON.stringify(d)}function addToCart(){if(currentItem.size==null){console.log("Add to cart failed :: No Size");return}var a=shop[currentItem.index].baseSKU;var b=currentItem.size;var c=shop[currentItem.index];var e=a+"-"+b;var d=getCart();if(d[e]==null){d[e]=0}d[e]++;localStorage.cart=JSON.stringify(d);refreshCart();openModal("cart-modal")}function removeFromCart(b){var a=getCart();delete a[b];localStorage.cart=JSON.stringify(a);refreshCart()}function isOutOfStock(a){return skuMatch[a]==null}function updateBuyButton(){var a=$("#shop-buy-button");var h=$("#shop-size-button");$(a).removeClass("shop-buy-button-disabled");$(h).removeClass("shop-size-button-disabled");$(a).text("Buy");if(!currentItem.index){currentItem.index=1}var f=shop[currentItem.index];var e=f.sizes;var b=f.baseSKU;if(currentItem.index==null){return}else{if(e==null&&isOutOfStock(b+"-"+currentItem.size)){$(h).addClass("shop-size-button-disabled");$(a).addClass("shop-buy-button-disabled");$(a).text("Sold Out")}else{if(e!=null&&currentItem.size==null){var g=true;for(var d=0;d<e.length;d++){var c=e[d];if(!isOutOfStock(b+"-"+c)){g=false;break}}if(g){$(h).addClass("shop-size-button-disabled");$(a).addClass("shop-buy-button-disabled");$(a).text("Sold Out")}}}}}function openCheckoutLink(){var e=getCart();var c=[];for(var b=0;b<Object.keys(e).length;b++){var f=Object.keys(e)[b];var a=skuMatch[f];c.push({variantId:a.id,quantity:e[f]})}var d={lineItems:c};d=JSON.stringify(d);d=d.replace(/\"([^(\")"]+)\":/g,"$1:");fetch("https://awge-2018.myshopify.com/api/2019-07/graphql.json",{method:"POST",headers:{"Content-Type":"application/graphql","X-Shopify-Storefront-Access-Token":"c93be35bf35584f666b857f0747fa13d"},body:"mutation checkoutCreate {           checkoutCreate(input: "+d+") {               checkout {                 webUrl               }           }        }"}).then(function(g){return g.json()}).then(function(g){window.location=g.data.checkoutCreate.checkout.webUrl})}function getCartSubtotal(){var g=getCart();var a=0;for(var d=0;d<Object.keys(g).length;d++){var h=Object.keys(g)[d];var e=h.split("-")[0];var b=h.split("-")[1];var c=h.split("-")[2];var f=shop[e][b];if(f==null){g[h]=0}a+=parseFloat(f.price)*parseFloat(g[h])}return a}var checkoutShipping,checkoutEmail,orderData,shopClient;var skuMatch={};function initShopify(){fetch("https://awge-2018.myshopify.com/api/2019-07/graphql.json",{method:"POST",headers:{"Content-Type":"application/graphql","X-Shopify-Storefront-Access-Token":"c93be35bf35584f666b857f0747fa13d"},body:'{ productByHandle(handle: "free-rocky-tee") {                 variants(first: 10) { edges { node {                   id                   title                   sku                   price                   availableForSale                 } } }             } }'}).then(function(a){return a.json()}).then(function(d){var c=d.data.productByHandle;var b=c.variants.edges;for(var a=0;a<b.length;a++){if(b[a].node.availableForSale){skuMatch[b[a].node.sku]=b[a].node}}updateBuyButton()})};